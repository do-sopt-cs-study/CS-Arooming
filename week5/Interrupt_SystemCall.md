# π“‘ μΈν„°λ½νΈ(Interrupt)μ™€ μ‹μ¤ν… μ½(System Call): μ…μ¶λ ¥ λ° μμ™Έ μ²λ¦¬

## π§Β μ΄μμ²΄μ μ λ™μ‘ κ³Όμ • - Dual Mode

- μ΄μμ²΄μ κ°€ μ„λ΅ λ‹¤λ¥Έ λ‘ κ°μ λ¨λ“λ΅ λμ•„κ°€λ” κ²ƒ.
    - ν„λ€ μ΄μμ²΄μ μ λ€λ¶€λ¶„μ€ Dual Modeλ΅ λ™μ‘ν•¨.
- μ‚¬μ©μ λ¨λ“ (User Mode): μΌλ°μ μΈ μ‘μ© ν”„λ΅κ·Έλ¨μ΄ κµ¬λ™λλ” ν™κ²½
- μ»¤λ„ λ¨λ“ (Kernel Mode): μ»¤λ„μ΄ κµ¬λ™λλ” ν™κ²½/ OS μ‹μ¤ν…μ— μν–¥μ„ μ£Όλ” λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ κ°€λ¥ν• ν™κ²½

![](https://velog.velcdn.com/images/klm03025/post/cb461772-62ff-4ac5-ac24-ccf13f37843b/image.png)

<br />

## π§Β μΈν„°λ½νΈ(Interrupt)

- ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘ μκΈ°μΉ μ•μ€ μƒν™©μ΄ λ°μƒν• κ²½μ°
    - ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ‘μ—…μ„ μ¦‰μ‹ μ¤‘λ‹¨
    - μμ™Έ μƒν™© μ°μ„  μ²λ¦¬
    - μ‹¤ν–‰ μ¤‘μ΄λ μ‘μ—…μΌλ΅ λ³µκ·€
    - μ›λ μ‹¤ν–‰ μ¤‘μ΄λ μ‘μ—… κ³„μ† μ²λ¦¬

<br />

### π‘€Β μΈν„°λ½νΈ λ™μ‘ κ³Όμ •

1. ν„μ¬ μ‹¤ν–‰ μ¤‘μ΄λ λ…λ Ήμ–΄κΉμ§€ μν–‰ ν›„, ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘λ‹¨
2. PC(Program Counter) κ°’μ„ μ¤νƒμ— μ €μ¥ β†’ ν„μ¬ ν”„λ΅κ·Έλ¨μ μƒνƒ λ³΄μ΅΄
    - PC(Program Counter)
        - λ©”λ¨λ¦¬μ—μ„ μ‹¤ν–‰ν•  λ‹¤μ λ…λ Ήμ–΄μ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°
3. μΈν„°λ½νΈ μ²λ¦¬λ£¨ν‹΄ μ‹¤ν–‰
4. μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR) μ‹¤ν–‰
    - μΈν„°λ½νΈμ μ›μΈμ„ νμ•…ν•κ³  μ‹¤μ§μ μΈ μ‘μ—… μν–‰
    - μ„λΉ„μ¤ λ£¨ν‹΄ μν–‰ μ¤‘ μ°μ„  μμ„κ°€ λ” λ†’μ€ μΈν„°λ½νΈ λ°μƒ μ‹, μ¬κ·€μ μΌλ΅ μ„μ κ³Όμ •(1~4) μν–‰
5. μΈν„°λ½νΈ λ°μƒ λ‹Ήμ‹ μ €μ¥ν•΄λ‘” PC κ°’ λ³µκµ¬
6. λ³µκµ¬λ PC κ°’μ„ μ΄μ©ν•μ—¬ μ΄μ „μ— μν–‰ μ¤‘μ΄λ ν”„λ΅κ·Έλ¨ μ¬κ° β†’ μ¤‘λ‹¨λ ν”„λ΅κ·Έλ¨μ μ‹¤ν–‰ μ¬κ°

<br />

### π‘€Β μΈν„°λ½νΈ μΆ…λ¥

- μ™Έλ¶€ μΈν„°λ½νΈ
    - μ „μ› μ΄μƒ μΈν„°λ½νΈ
    - κΈ°κ³„ μ°©μ¤ μΈν„°λ½νΈ
    - μ™Έλ¶€ μ‹ νΈ μΈν„°λ½νΈ
        - νƒ€μ΄λ¨Έμ— μν• μΈν„°λ½νΈ
        - ν‚¤λ³΄λ“λ΅ μΈν„°λ½νΈ ν‚¤λ¥Ό λ„λ¥Έ κ²½μ° (ex. Control + Alt + Delete)
        - μ™Έλ¶€ μ¥μΉλ΅λ¶€ν„°μ μΈν„°λ½νΈ μ”μ²­
    - μ…μ¶λ ¥ μΈν„°λ½νΈ
        - μ…μ¶λ ¥ μ¥μΉκ°€ λ°μ΄ν„° μ „μ†΅μ„ μ”κµ¬ν•κ±°λ‚ μ „μ†΅μ΄ λλ‚ λ‹¤μ λ™μ‘μ΄ μν–‰λμ–΄μ•Ό ν•  κ²½μ°
        - μ…μ¶λ ¥ λ°μ΄ν„°μ— μ΄μƒμ΄ μλ” κ²½μ°
- λ‚΄λ¶€ μΈν„°λ½νΈ(νΈλ©)
    - μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν–μ„ λ• λ°μƒ(Program check interrupt λΌκ³ λ„ ν•¨)
        - Division by zero
        - Overflow/Underflow
        - κΈ°νƒ€ ν”„λ΅κ·Έλ¨ Exception

<br />


## π§Β μ‹μ¤ν… μ½ (System Call)

- ν”„λ΅μ„Έμ¤κ°€ μ‹μ¤ν…μ μμ›μ΄λ‚ μ„λΉ„μ¤λ¥Ό ν•„μ”λ΅ ν•  κ²½μ°, μ»¤λ„ λ¨λ“λ΅ μ ‘κ·Όν•κΈ° μ„ν• μΈν„°νμ΄μ¤
    - μ΄μμ²΄μ μ—κ² μ»¤λ„ λ¨λ“λ΅μ μ ‘κ·Όμ„ μ”μ²­ν•λ” κ²ƒ
- μ΄ λν• μΈν„°λ½νΈμ μΌμΆ…μ΄λ©°, ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν•΄ OSλ΅ CPU μ μ–΄κ¶μ΄ λ„μ–΄κ°€κ³  OS μμ—­μ μ½”λ“κ°€ μ‹¤ν–‰λ¨.
- μΈν„°λ½νΈ λΌμΈμ„ μ½μ–΄μ„ μ»¤λ„ ν•¨μκ°€ μ‹¤ν–‰λ  λΏ, μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ—μ„ μ§μ ‘ OS μμ—­μ„ νΈμ¶ν•μ§„ μ•μ !

<br />

### π‘€Β μ‹μ¤ν… μ½ λ™μ‘κ³Όμ •

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/c0ykkj/btsirSksbKj/p6Hjnf21IB07KzktzzRl50/img.png)

1. μ‚¬μ©μ ν”„λ΅μ„Έμ¤κ°€ μ‹μ¤ν… μ½ νΈμ¶ (Kernel Mode μ§„μ…)
2. μ»¤λ„μ€ λ‚΄λ¶€μ μΌλ΅ μ‹μ¤ν… μ½μ„ κµ¬λ¶„ν•κΈ° μ„ν•΄, κΈ°λ¥ λ³„ κ³ μ λ²νΈ ν• λ‹Ή β†’ ν• λ‹Ή λ²νΈ λ³„ μ μ–΄ λ£¨ν‹΄ μ •μ
3. μ»¤λ„μ€ μ”μ²­λ°›μ€ μ‹μ¤ν… μ½μ— λ€μ‘ν•λ” κ³ μ λ²νΈ ν™•μΈ β†’ λ²νΈμ— λ§λ” μ„λΉ„μ¤ λ£¨ν‹΄ νΈμ¶
4. μ»¤λ„μ€ μ„λΉ„μ¤ λ£¨ν‹΄ μ²λ¦¬ β†’ μ‚¬μ©μ λ¨λ“(User Mode)λ΅ μ „ν™

<br />

### π‘€Β μ‹μ¤ν… μ½ μ ν•

- ν”„λ΅μ„Έμ¤ μ μ–΄
    - λλ‚΄κΈ°(exit), μ¤‘μ§€(abort)
    - μ μ¬(load), μ‹¤ν–‰(execute)
    - ν”„λ΅μ„Έμ¤ μƒμ„±(create process) - fork
- νμΌ μ΅°μ‘
    - μ½κΈ°(read), μ“°κΈ°(write)
    - μ—΄κΈ°(open), λ‹«κΈ°(close)
    - νμΌ μƒμ„±(create file), νμΌ μ‚­μ (delete file)
- μ¥μΉ κ΄€λ¦¬
    - ν•λ“μ›¨μ–΄μ μ μ–΄μ™€ μƒνƒ μ •λ³΄ μ–»μ
    - μ¥μΉ μ”κµ¬, μ¥μΉ λ°©μ¶
    - μ½κΈ°(read), μ“°κΈ°(write)
- μ •λ³΄ μ μ§€
    - getpid(), alrarm(), sleep()
- ν†µμ‹ 
    - ν†µμ‹  μ—°κ²°μ μƒμ„± λ° μ κ±°
    - λ©”μ‹μ§€μ μ†΅μ‹  λ° μμ‹ 